"""Utility I/O tests."""

# -----------------------------------------------------------------------------
# Imports
# -----------------------------------------------------------------------------
import os
import tempfile

from spikedetekt2.dataio.utils import *


# -----------------------------------------------------------------------------
# Fixtures
# -----------------------------------------------------------------------------


# -----------------------------------------------------------------------------
# KWIK file creation tests
# -----------------------------------------------------------------------------
def test_json():
    dirpath = tempfile.mkdtemp()
    path = os.path.join(dirpath, 'test.json')
    
    d = {'a': [2, {'b': [{'c': 0}, {'c': [1, 2]}], 'd': 3}]}
    save_json(path, d)
    d_bis = load_json(path)
    assert d == d_bis
    
    os.remove(path)
    
    